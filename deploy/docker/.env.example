# =============================================================================
# Reach - Docker Production Environment Configuration
# Copy to .env and customize before running setup.sh
# =============================================================================

# -----------------------------------------------------------------------------
# REQUIRED: Domain and SSL Configuration (Traefik/Let's Encrypt)
# -----------------------------------------------------------------------------

# Your domain name (must have DNS pointing to this server)
DOMAIN=reach.example.com

# Email for Let's Encrypt certificate notifications
ACME_EMAIL=admin@example.com

# Cloudflare API token for DNS-01 challenge
# Create at: https://dash.cloudflare.com/profile/api-tokens
# Permissions needed: Zone - DNS - Edit, Zone - Zone - Read
CF_DNS_API_TOKEN=your_cloudflare_api_token_here

# -----------------------------------------------------------------------------
# REQUIRED: API Authentication
# -----------------------------------------------------------------------------

# API key for server authentication
# Generate with: openssl rand -hex 32
REACH_API_KEY=your_api_key_here

# -----------------------------------------------------------------------------
# Server Settings
# -----------------------------------------------------------------------------

# Server bind address (0.0.0.0 for container use)
REACH_HOST=0.0.0.0

# Server HTTP port
REACH_PORT=8765

# SSH tunnel port for client connections
REACH_SSH_PORT=2222

# Log level: DEBUG, INFO, WARNING, ERROR
REACH_LOG_LEVEL=INFO

# Timezone
TZ=UTC

# -----------------------------------------------------------------------------
# Cloudflare R2 Storage (for file exchange)
# -----------------------------------------------------------------------------

# Cloudflare account ID (found in R2 dashboard)
# REACH_R2_ACCOUNT_ID=your_cloudflare_account_id

# R2 API access key ID
# REACH_R2_ACCESS_KEY=your_r2_access_key

# R2 API secret access key
# REACH_R2_SECRET_KEY=your_r2_secret_key

# R2 bucket name for file transfers
# REACH_R2_BUCKET=reach-exchange

# R2 region (default: auto)
# REACH_R2_REGION=auto

# -----------------------------------------------------------------------------
# Webhooks
# -----------------------------------------------------------------------------

# Global webhook URL for all events
# Events: client.connected, client.disconnected, client.key_mismatch,
#         client.unhealthy, command_executed, file_accessed
# REACH_WEBHOOK_URL=http://127.0.0.1:9999/webhook

# Webhook HTTP timeout in seconds (default: 10)
# REACH_WEBHOOK_TIMEOUT=10.0

# Maximum retry attempts for failed webhooks (default: 3)
# REACH_WEBHOOK_MAX_RETRIES=3

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------

# Default requests per minute limit per client (default: 60)
# REACH_RATE_LIMIT_RPM=60

# Default max concurrent requests per client (default: 10)
# REACH_RATE_LIMIT_CONCURRENT=10

# -----------------------------------------------------------------------------
# Traefik Dashboard (Optional)
# -----------------------------------------------------------------------------

# Basic auth for Traefik dashboard (htpasswd format)
# Generate with: htpasswd -nbB admin yourpassword | sed 's/\$/\$\$/g'
# Leave empty to disable dashboard access
# TRAEFIK_DASHBOARD_AUTH=admin:$$apr1$$...
